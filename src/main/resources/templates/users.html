<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Пользователи</title>
</head>
<body>
<table>
    <tr th:each="user : ${users}">
        <td th:text="${user.getId()}"></td>
        <td th:text="${user.getUsername()}"></td>
        <td th:text="${user.getAge()}"></td>
        <td><a th:href="@{/user(id=${user.getId()})}">Подробнее</a></td>
    </tr>
</table>
<br>
<a th:href="@{/admin/new}">Создать пользователя!</a>
<br>
<form th:if="${isAuthenticated != null ? !isAuthenticated : true}" action="/login" method="post">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
    <button type="submit">Login</button>
</form>
<form th:if="${isAuthenticated != null ? isAuthenticated : false}" action="/logout" method="post">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
    <button type="submit">Logout</button>
</form>
</form>
</body>
</html>